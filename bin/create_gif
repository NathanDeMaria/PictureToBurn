#!/usr/bin/env python
import os
from fire import Fire

from picture_to_burn import mp4_to_gif, find_mp4


def convert(some_mp4: str, width: int = 320):
    """
    Convert something to a gif. Currently supports local .mp4 files and tweets.
    """
    if os.path.isfile(some_mp4):
        pass
    elif 'twitter.com' in some_mp4:
        some_mp4 = find_mp4(some_mp4)
    else:
        raise NotImplementedError(
            f"Can't find a way to convert {some_mp4} into a gif")
    mp4_to_gif(some_mp4, width)


if __name__ == '__main__':
    Fire(convert)
